<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tug of war</title>

<style>
.movie { position: relative; border:1px dashed #777; width:1920px; height:5080px; }
.movie img { 
    position:absolute; 
    visibility:hidden;
}
</style>
    
    
<script src="js/jquery-3.6.0.js"></script>
<script>
    $(function(){

        $(window).scroll(function(){
            var b = $(document).scrollTop(); 
                        
            $("#tt").text(b);
        });
    
        //이미지 불러오기
        for (i=0; i<=29; i++){
            $(".movie").append("<img src='tug_sequence/"+i+".png'>");
        }
        $(".movie img:first").css({visibility:"visible"});
    
    
    
        //애니메이션 시키기
        let frameNum=0;
    
        function aniNext(){
    
            frameNum++;
    
            //if(frameNum> $(".movie img:last").index() ){
                //frameNum=0
            //};
    
            if (frameNum > 29) {
                frameNum=0;
            }
    
            $(".movie img").css({visibility:"hidden"});
            $(".movie img:eq("+frameNum+")").css({visibility:"visible"});
        }
    
        let k = setInterval(aniNext,100); //0.1초마다 aniNext 함수 실행
    
        $(".movie").animate(
            {center:2000},
            10000,
            function(){
            clearInterval(k);
        });
    
    
    });
</script>
    
</head>
<body>

<div id="tt" style="position: fixed; left: 30px; top: 200px; background: red; color: white; font-size: 30px; z-index: 10;">0</div>
<div class="movie"></div>
    
</body>
</html>