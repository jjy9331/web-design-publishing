<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>showroom</title>
<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Exo:100' rel='stylesheet' type='text/css'>
<style>
body { font: 12px "Roboto"; color: #767676; text-align: center; background:#333; }
ul { list-style: none; margin: 0; padding: 0; }
h1 { font-size:50px; font-weight:100; font-family:Exo; }

#sw_gallery { position: relative; margin: 0 auto; width:1200px; height:610px; border:3px dashed yellow;}
#sw_gallery .gall { position: relative; margin: 0 auto; 
width: 1024px; height: 600px; /*하나의 이미지 크기*/
background:#fafafa; border:3px dashed skyblue;}
#sw_gallery .gall img { position:absolute; left:0; top:0;  /*갤러리 이미지들을 한 위치에 포갬*/}

#sw_gallery .gall .loader { position: absolute; left: 0; top: 0; width: 100%; height: 100%; background: #fff; z-index:100; }
#sw_gallery .gall .loader img { position: absolute; left: 50%; top: 50%; margin: -15px 0 0 -15px;   /*로딩이미지 위치 중앙으로 배치*/ }

#sw_gallery .bar_bg { position: absolute; left: 212px; bottom: 50px; width: 600px; height: 4px; border-radius:2px;background: #dedede;  }
#sw_gallery .bar { position: absolute; left:0; top: -7px; 
width: 18px; height: 18px; /*bar의 크기*/
background:#F60; cursor: pointer; border-radius: 50%; opacity: 0.7; }
</style>

<script src="js/jquery-3.6.0.min.js"></script>
<script src="js/jquery-ui-1.10.4.custom.min.js"></script>

<script>
window.onload = function() { //페이지가 (이미지 포함) 모두 로딩된후
	
    $(".loader").hide();
  for(i=1; i<=37; i++) {
    $(".gall").append("<img src='images/"+i+".jpg'>");
  }
	
   let bar = $("#sw_gallery .bar");
   let bar_bg = $("#sw_gallery .bar_bg");
   let frame = $("#sw_gallery .gall>img");
    let a;
    let b;
    // let c = frame.length() - 1; ()있으면 작동 안함
    let c = frame.length - 1;
    let d = parseInt(bar_bg.css("width"));
    let e = 0;
    let f = parseInt(bar.css("width"));

    bar.draggable({ axis: "x", containment: "parent" });
    bar.bind("drag", function() { //드래그하는 동안
        b = parseInt(bar.css("left"));
        $("h1").text(Math.round(a));
        a = (c - e) * (b / (d - f));
        frame.css({ visibility: "hidden" });//이미지를 다 안보이게함
        frame.eq(Math.round(a)).css({ visibility: "visible" }); //해당 이미지만 보이게함
    });

}
</script>
</head>
<body>


<h1>showroom</h1>
<p>jQuery css3</p>



<div id = "sw_gallery">
  <div class="gall">
 
    <p  class="loader"><img src="images/loader.gif" alt="로딩중입니다" /></p>
    <!-- 로딩될 이미지들 -->
  </div>
  
  <div class="bar_bg">
    <div class="bar"></div>
  </div>
  
</div>




<p>all right reserved</p>

</body>
</html>
