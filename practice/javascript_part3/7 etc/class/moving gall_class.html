<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>이동 갤러리</title>
<style>
body,ul {margin:0;padding:0;}
ul {list-style:none;}

/* 갤러리1 */
#moving_gallery1 { 
	margin:50px auto; 
	width:1000px; 
	padding:50px 0 ; 
	border:5px dashed orange; 
}

#moving_gallery1 .mas { 
	overflow:hidden;
	position:relative; 
	margin:0 auto; 
	width:600px; height:200px; 
	border:5px solid hotpink; 
}

#moving_gallery1 .gall {
	position:absolute; 
	left:0px; top:0px; width:99999px;
	/* border:3px solid yellowgreen; */
}

#moving_gallery1 .gall ul { 
	float:left;  
}

#moving_gallery1 .gall ul li { 
	float:left; 
	width:200px; height:200px; 
	background-color:rgba(255,255,0,0.8); 
	border:3px dashed #0cf; 
	box-sizing:border-box/* 안쪽테두리 */; 
}

#moving_gallery1 .nav { 
	margin:0 auto; 
	margin-top:30px; 
	width:600px; 
	border:2px dashed blue;
	text-align:center;
}


/* 갤러리2 */
#moving_gallery2 { 
	margin:50px auto; 
	width:1200px; 
	padding:50px 0 ; 
	border:5px dashed yellowgreen; 
}

#moving_gallery2 .mas { 
	overflow:hidden;
	position:relative; 
	margin:0 auto; 
	width:800px; height:200px; 
	border:5px solid hotpink; 
}

#moving_gallery2 .gall {
	position:absolute; 
	left:0px; top:0px; width:99999px;
	/* border:3px solid yellowgreen; */
}

#moving_gallery2 .gall ul { 
	float:left;  
}

#moving_gallery2 .gall ul li { 
	float:left; 
	width:200px; height:200px; 
	background-color:rgba(255,255,0,0.8); 
	border:3px dashed #0cf; 
	box-sizing:border-box/* 안쪽테두리 */; 
}

#moving_gallery2 .nav { 
	margin:0 auto; 
	margin-top:30px; 
	width:600px; 
	border:2px dashed blue;
	text-align:center;
}

</style>

</head>
<body>



<div id="moving_gallery1">

	<div class="mas">
		
		  <div class="gall">
		  
					  <ul>
						<li class="item">01</li>
						<li class="item">02</li>
						<li class="item">03</li>
						<li class="item">04</li>
						<li class="item">05</li>
					  </ul>

		  </div>
	  
	</div>


	<div class="nav">
			<button class="left">왼쪽</button>
			<button class="right">오른쪽</button>
	</div>

</div>



<!--
<div id="moving_gallery2">

	<div class="mas">
		
		  <div class="gall">
		  
					  <ul>
						<li class="item">01</li>
						<li class="item">02</li>
						<li class="item">03</li>
						<li class="item">04</li>
						<li class="item">05</li>
					  </ul>

		  </div>
	  
	</div>


	<div class="nav">
			<button class="left">왼쪽</button>
			<button class="right">오른쪽</button>
	</div>

</div>
-->

<script>

class MovingGall {
	constructor(gallery){//초기설정
		
		this.gallery = gallery;
		this.speed = 1; //속도

		this.n = this.item.length; //alert(n);
		this.w = this.item[0].offsetWidth; //alert(w);

		this.temp = this.set.cloneNode(true); 
		this.gall.appendChild(this.temp);	

		
		this.gall = document.querySelector(this.gallery+" .gall");
		this.left = document.querySelector(this.gallery+" .left");
		this.right = document.querySelector(this.gallery+" .right");
		this.item = document.querySelectorAll(this.gallery+" .item");
		this.set = document.querySelector(this.gallery+" .gall ul");
		
		this.x = 0;
		this.s= -this.speed;
		this.m = true;
	}
	movGall(){//함수
		this.right.addEventListener("click",()=>{ this.s = this.speed; });
		this.left.addEventListener("click",()=>{ this.s = -this.speed; });
		this.gall.addEventListener("mouseover",()=>{ this.m=false; });
		this.gall.addEventListener("mouseout",()=>{ this.m=true; });
		
		setInterval(()=>{//setInterval의 함수형식을 function()으로 하면 this는 window객체를 의미
						//클래스 내에선 화살표함수()=> 형식을 써야함
				if ( this.m ) {
					this.x = this.x + this.s;
					if ( this.x < -this.w*this.n ) { this.x=0; } 
					if ( this.x > 0 ) { this.x= -this.w*this.n; } 
					this.gall.style.left=this.x+"px";
				}
			},10); 
		}
}

let m1 = new MovingGall("#moving_gallery1");//MovingGall클래스엣 m1객체 생성

m1.movGall();

/*
	//쿼리셀렉터

	const  s1 = document.querySelector(".s1");  
	s1.style.color="red"; //인덱스번호 붙이지 않는다(.s1첫번째요소)

	-----------------------------------------------------------------

	//쿼리셀렉터All

	const  s1 = document.querySelectorAll(".s1");  
	s1[0].style.color="red"; //인덱스번호를  붙여야한다
*/


/*
	const gall = document.querySelector("#moving_gallery1 .gall");
	const left = document.querySelector("#moving_gallery1 .left");
	const right = document.querySelector("#moving_gallery1 .right");
	const item = document.querySelectorAll("#moving_gallery1 .item");
	const set = document.querySelector("#moving_gallery1 .gall ul");

	let speed = 1; //속도

	let n = item.length; //alert(n);
	let w = item[0].offsetWidth; //alert(w);

	let temp = set.cloneNode(true); 
	gall.appendChild(temp);

	let x = 0;
	let s= -speed;
	let m = true;
	function moving() {
		if ( m ) {
			x = x + s;
			if ( x < -w*n ) { x=0; } 
			if ( x > 0 ) { x= -w*n; } 
			gall.style.left=x+"px";
		}
	}
	setInterval(moving,10); 
	right.addEventListener("click",function(){ s = speed; });
	left.addEventListener("click",function(){ s = -speed; });
	gall.addEventListener("mouseover",function(){ m=false; });
	gall.addEventListener("mouseout",function(){ m=true; });
*/
</script>

</body>
</html>

